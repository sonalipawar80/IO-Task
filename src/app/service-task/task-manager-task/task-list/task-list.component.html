<div class="container-fluid ">
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <select name="Priority" id="Priority" (change)="onPriorityChange($event)" class="form-control">
          <option value="All">All</option>
          <option value="High">High</option>
          <option value="Medium">Medium</option>
          <option value="Low">Low</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <select name="Status" id="Status" class="form-control " (change)="onStatusChange($event)">
          <option value="All">All</option>
          <option value="Pending">Pending</option>
          <option value="In Progress">In Progress</option>
          <option value="Completed">Completed</option>
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <input (keyup)="applyFilter($event)" placeholder="Search..." #input class="form-control">
      </div>
    </div>
    <div class="col-md-12">
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 w-100">
        <!-- Task -->
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Task </th>
          <td mat-cell *matCellDef="let task" class="d-flex align-items-center">
            <mat-icon class="me-2">description</mat-icon>
            {{ task.title }}
          </td>
        </ng-container>

        <!-- Due Date -->
        <ng-container matColumnDef="dueDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Due Date </th>
          <td mat-cell *matCellDef="let task">
            {{ task.dueDate| date}}
          </td>
        </ng-container>

        <!-- Priority -->
        <ng-container matColumnDef="priority">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Priority </th>
          <td mat-cell *matCellDef="let task">
            <span class="px-2 py-1 rounded priorityCss" [ngClass]="{
          'bg-danger': task.priority === 'High',
          'bg-success': task.priority === 'Medium',
          'bg-warning text-dark': task.priority === 'Low'
        }">
              {{ task.priority }}
            </span>
          </td>
        </ng-container>

        <!-- Status -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
          <td mat-cell *matCellDef="let task">
            <span class="px-2 py-1 rounded priorityCss" [ngClass]="{
          'bg-danger': task.status === 'Completed',
          'bg-primary': task.status === 'In Progress',
          'bg-warning text-dark': task.status === 'Pending'
        }">
              {{ task.status }}
            </span>
          </td>
        </ng-container>

        <!-- Header & Row -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
      <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons>
      </mat-paginator>
    </div>
  </div>
</div>